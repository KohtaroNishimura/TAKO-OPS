{% extends "base.html" %}
{% block content %}
<div class="card rounded-2xl border border-slate-200 bg-white p-4 sm:p-6 shadow-sm">
  <h2 class="text-lg font-semibold text-slate-900">日報 編集</h2>

  <form method="post" action="{{ url_for('daily_report_update', daily_report_id=rep['daily_report_id']) }}">
    <label>日付</label>
    <input type="date" name="report_date" value="{{ rep['report_date'] }}" required>

    <label>売れたバッチ数（0.1刻み）</label>
    <input type="number" name="sold_batches" step="0.1" min="0" value="{{ rep['sold_batches'] or 0 }}">

    <label>ロス個数</label>
    <input type="number" name="waste_pieces" step="1" min="0" value="{{ rep['waste_pieces'] or 0 }}">

    <label>生産時間（分）</label>
    <input type="number" name="production_minutes" step="1" min="0" value="{{ rep['production_minutes'] or 0 }}">

    <label>売上（円）</label>
    <input type="number" name="sales_amount" step="1" min="0" value="{{ rep['sales_amount'] or 0 }}">

    <label>所感</label>
    <textarea name="impression" rows="4">{{ rep['impression'] or "" }}</textarea>

    <div class="mt-3 flex flex-wrap gap-2">
      <button class="btn inline-flex items-center justify-center rounded-xl bg-slate-900 px-4 py-2 text-sm font-semibold text-white shadow-sm hover:bg-slate-800 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-slate-400" type="submit">更新（inventory_tx再生成）</button>
      <a class="btn inline-flex items-center justify-center rounded-xl bg-slate-900 px-4 py-2 text-sm font-semibold text-white shadow-sm hover:bg-slate-800 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-slate-400" href="{{ url_for('daily_reports_list') }}">戻る</a>
    </div>
  </form>
</div>
{% endblock %}
