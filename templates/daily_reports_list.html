{% extends "base.html" %}
{% block content %}
<div class="card rounded-2xl border border-slate-200 bg-white p-4 sm:p-6 shadow-sm">
  <h2 class="text-lg font-semibold text-slate-900">日報一覧</h2>
  <div class="mb-3">
    <a class="btn inline-flex items-center justify-center rounded-xl bg-slate-900 px-4 py-2 text-sm font-semibold text-white shadow-sm hover:bg-slate-800 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-slate-400" href="{{ url_for('daily_report_new') }}">日報を追加</a>
  </div>

  <div class="overflow-x-auto -mx-4 sm:mx-0">

    <table class="min-w-[640px] w-full text-sm">
    <thead>
      <tr>
        <th>日付</th>
        <th>売れたバッチ</th>
        <th>ロス個数</th>
        <th>生産時間(時間)</th>
        <th>売上(円)</th>
        <th>操作</th>
      </tr>
    </thead>
    <tbody>
      {% for r in reports %}
      <tr>
        <td>{{ r["report_date"] }}</td>
        <td>{{ r["sold_batches"] }}</td>
        <td>{{ r["waste_pieces"] }}</td>
        <td>{{ "%.1f"|format(r["production_minutes"] or 0) }}</td>
        <td>{{ "%.0f"|format(r["sales_amount"] or 0) }}</td>
        <td>
          <a class="btn inline-flex items-center justify-center rounded-xl bg-slate-900 px-4 py-2 text-sm font-semibold text-white shadow-sm hover:bg-slate-800 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-slate-400" href="{{ url_for('daily_report_edit', daily_report_id=r['daily_report_id']) }}">編集</a>
        </td>
      </tr>
      {% else %}
      <tr><td colspan="6">まだ日報がありません。</td></tr>
      {% endfor %}
    </tbody>
  </table>
  </div>
</div>
{% endblock %}
